// Code generated by ogen, DO NOT EDIT.

package api

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AuthCallbackGet implements GET /auth/callback operation.
	//
	// OIDCコールバック（コードをトークンに交換）.
	//
	// GET /auth/callback
	AuthCallbackGet(ctx context.Context, params AuthCallbackGetParams) (AuthCallbackGetRes, error)
	// AuthLoginGet implements GET /auth/login operation.
	//
	// OIDCログインを開始.
	//
	// GET /auth/login
	AuthLoginGet(ctx context.Context) error
	// AuthLogoutPost implements POST /auth/logout operation.
	//
	// ログアウト.
	//
	// POST /auth/logout
	AuthLogoutPost(ctx context.Context) error
	// AuthMeGet implements GET /auth/me operation.
	//
	// 現在のユーザー情報を取得.
	//
	// GET /auth/me
	AuthMeGet(ctx context.Context) (AuthMeGetRes, error)
	// AuthRefreshPost implements POST /auth/refresh operation.
	//
	// アクセストークンのリフレッシュ.
	//
	// POST /auth/refresh
	AuthRefreshPost(ctx context.Context) (AuthRefreshPostRes, error)
	// FriendsGet implements GET /friends operation.
	//
	// 自分のフレンド（フォロー）一覧取得.
	//
	// GET /friends
	FriendsGet(ctx context.Context) (FriendsGetRes, error)
	// FriendsPost implements POST /friends operation.
	//
	// フレンド追加（フォロー）.
	//
	// POST /friends
	FriendsPost(ctx context.Context, req *FriendsPostReq) (FriendsPostRes, error)
	// FriendsUserIDDelete implements DELETE /friends/{user_id} operation.
	//
	// フレンド削除（フォロー解除）.
	//
	// DELETE /friends/{user_id}
	FriendsUserIDDelete(ctx context.Context, params FriendsUserIDDeleteParams) (FriendsUserIDDeleteRes, error)
	// GenresGet implements GET /genres operation.
	//
	// 利用可能なジャンル一覧取得.
	//
	// GET /genres
	GenresGet(ctx context.Context) ([]Genre, error)
	// GoalsGet implements GET /goals operation.
	//
	// 現在のユーザーの目標一覧取得.
	//
	// GET /goals
	GoalsGet(ctx context.Context, params GoalsGetParams) (GoalsGetRes, error)
	// GoalsGoalIDDelete implements DELETE /goals/{goal_id} operation.
	//
	// 目標削除.
	//
	// DELETE /goals/{goal_id}
	GoalsGoalIDDelete(ctx context.Context, params GoalsGoalIDDeleteParams) (GoalsGoalIDDeleteRes, error)
	// GoalsGoalIDGet implements GET /goals/{goal_id} operation.
	//
	// 目標詳細取得.
	//
	// GET /goals/{goal_id}
	GoalsGoalIDGet(ctx context.Context, params GoalsGoalIDGetParams) (GoalsGoalIDGetRes, error)
	// GoalsGoalIDPut implements PUT /goals/{goal_id} operation.
	//
	// 目標更新.
	//
	// PUT /goals/{goal_id}
	GoalsGoalIDPut(ctx context.Context, req *GoalRequest, params GoalsGoalIDPutParams) (GoalsGoalIDPutRes, error)
	// GoalsPost implements POST /goals operation.
	//
	// 新規目標作成.
	//
	// POST /goals
	GoalsPost(ctx context.Context, req *GoalRequest) (GoalsPostRes, error)
	// ImagesImageIDGet implements GET /images/{image_id} operation.
	//
	// 画像取得.
	//
	// GET /images/{image_id}
	ImagesImageIDGet(ctx context.Context, params ImagesImageIDGetParams) (ImagesImageIDGetRes, error)
	// ImagesPost implements POST /images operation.
	//
	// 画像をアップロードしてIDを発行します。このIDを使用して投稿と紐付けます。紐付けられた投稿が削除されると、画像も削除されます。.
	//
	// POST /images
	ImagesPost(ctx context.Context, req OptImagesPostReq) (ImagesPostRes, error)
	// PostsGet implements GET /posts operation.
	//
	// 現在のユーザーの投稿一覧取得.
	//
	// GET /posts
	PostsGet(ctx context.Context, params PostsGetParams) (PostsGetRes, error)
	// PostsPost implements POST /posts operation.
	//
	// 進捗投稿作成.
	//
	// POST /posts
	PostsPost(ctx context.Context, req *PostRequest) (PostsPostRes, error)
	// PostsPostIDDelete implements DELETE /posts/{post_id} operation.
	//
	// 投稿を削除します。紐づいている画像も同時に削除されます。.
	//
	// DELETE /posts/{post_id}
	PostsPostIDDelete(ctx context.Context, params PostsPostIDDeleteParams) (PostsPostIDDeleteRes, error)
	// PostsPostIDGet implements GET /posts/{post_id} operation.
	//
	// 投稿詳細取得.
	//
	// GET /posts/{post_id}
	PostsPostIDGet(ctx context.Context, params PostsPostIDGetParams) (PostsPostIDGetRes, error)
	// PostsPostIDPut implements PUT /posts/{post_id} operation.
	//
	// 投稿更新.
	//
	// PUT /posts/{post_id}
	PostsPostIDPut(ctx context.Context, req *PostRequest, params PostsPostIDPutParams) (PostsPostIDPutRes, error)
	// PostsPostIDReactionsDelete implements DELETE /posts/{post_id}/reactions operation.
	//
	// 認証済みの現在のユーザー自身のリアクションを指定した投稿から削除します。`user_id` パラメータは不要で、認証されたユーザーのリアクションのみが削除されます。.
	//
	// DELETE /posts/{post_id}/reactions
	PostsPostIDReactionsDelete(ctx context.Context, params PostsPostIDReactionsDeleteParams) (PostsPostIDReactionsDeleteRes, error)
	// PostsPostIDReactionsGet implements GET /posts/{post_id}/reactions operation.
	//
	// 投稿にリアクションしたユーザーの一覧取得.
	//
	// GET /posts/{post_id}/reactions
	PostsPostIDReactionsGet(ctx context.Context, params PostsPostIDReactionsGetParams) (PostsPostIDReactionsGetRes, error)
	// PostsPostIDReactionsPost implements POST /posts/{post_id}/reactions operation.
	//
	// 投稿にリアクション（いいね）を追加します。リアクションしたユーザーを記録するために認証が必要です。.
	//
	// POST /posts/{post_id}/reactions
	PostsPostIDReactionsPost(ctx context.Context, params PostsPostIDReactionsPostParams) (PostsPostIDReactionsPostRes, error)
	// TimelineGet implements GET /timeline operation.
	//
	// 投稿は新しい順（降順、最新が最初）で返されます。.
	//
	// GET /timeline
	TimelineGet(ctx context.Context, params TimelineGetParams) (TimelineGetRes, error)
	// UsersUserIDDelete implements DELETE /users/{user_id} operation.
	//
	// ユーザーアカウント削除.
	//
	// DELETE /users/{user_id}
	UsersUserIDDelete(ctx context.Context, params UsersUserIDDeleteParams) (UsersUserIDDeleteRes, error)
	// UsersUserIDFriendsGet implements GET /users/{user_id}/friends operation.
	//
	// ユーザーのフレンド（フォロー）一覧取得.
	//
	// GET /users/{user_id}/friends
	UsersUserIDFriendsGet(ctx context.Context, params UsersUserIDFriendsGetParams) (UsersUserIDFriendsGetRes, error)
	// UsersUserIDGet implements GET /users/{user_id} operation.
	//
	// ユーザープロフィール取得.
	//
	// GET /users/{user_id}
	UsersUserIDGet(ctx context.Context, params UsersUserIDGetParams) (UsersUserIDGetRes, error)
	// UsersUserIDGoalsGet implements GET /users/{user_id}/goals operation.
	//
	// 指定ユーザーの目標一覧取得.
	//
	// GET /users/{user_id}/goals
	UsersUserIDGoalsGet(ctx context.Context, params UsersUserIDGoalsGetParams) (UsersUserIDGoalsGetRes, error)
	// UsersUserIDIconDelete implements DELETE /users/{user_id}/icon operation.
	//
	// ユーザーアイコン削除.
	//
	// DELETE /users/{user_id}/icon
	UsersUserIDIconDelete(ctx context.Context, params UsersUserIDIconDeleteParams) (UsersUserIDIconDeleteRes, error)
	// UsersUserIDIconGet implements GET /users/{user_id}/icon operation.
	//
	// ユーザーアイコン画像取得.
	//
	// GET /users/{user_id}/icon
	UsersUserIDIconGet(ctx context.Context, params UsersUserIDIconGetParams) (UsersUserIDIconGetRes, error)
	// UsersUserIDIconPost implements POST /users/{user_id}/icon operation.
	//
	// ユーザーアイコンのアップロードまたは置換.
	//
	// POST /users/{user_id}/icon
	UsersUserIDIconPost(ctx context.Context, req OptUsersUserIDIconPostReq, params UsersUserIDIconPostParams) (UsersUserIDIconPostRes, error)
	// UsersUserIDPostsGet implements GET /users/{user_id}/posts operation.
	//
	// 指定ユーザーの投稿一覧取得.
	//
	// GET /users/{user_id}/posts
	UsersUserIDPostsGet(ctx context.Context, params UsersUserIDPostsGetParams) (UsersUserIDPostsGetRes, error)
	// UsersUserIDPut implements PUT /users/{user_id} operation.
	//
	// ユーザープロフィール更新.
	//
	// PUT /users/{user_id}
	UsersUserIDPut(ctx context.Context, req *UserRequest, params UsersUserIDPutParams) (UsersUserIDPutRes, error)
	// NewError creates *GeneralErrorStatusCode from error returned by handler.
	//
	// Used for common default response.
	NewError(ctx context.Context, err error) *GeneralErrorStatusCode
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
